<!-- <div class="course-container">
  <h1>Course List</h1>

  <div *ngIf="isAdmin" class="add-course">
    <input
      type="text"
      pInputText
      [(ngModel)]="newCourse.title"
      placeholder="Course Title"
    />
    <input
      type="text"
      pInputText
      [(ngModel)]="newCourse.description"
      placeholder="Course Description"
    />
    <p-button label="Add Course" (click)="addCourse()" />
  </div>

  <div class="course-list">
    <div *ngFor="let course of courses">
      <div *ngIf="isAdmin">
        <p-card header="{{ course.title }}" [style]="{ width: '360px' }">
          <p>{{ course.description }}</p>
          <ng-template pTemplate="footer">
            <div class="flex gap-3 mt-1">
              <p-button
                label="Update"
                severity="primary"
                class="w-full"
                styleClass="w-full"
                (click)="openUpdateDialog(course)"
              />
              <p-dialog
                header="Update Course"
                [modal]="true"
                [(visible)]="visible"
                [style]="{ width: '25rem' }"
                [draggable]="false"
              >
                <div class="flex align-items-center gap-3 mb-3">
                  <label for="title" class="font-semibold w-6rem">Title</label>
                  <input
                    pInputText
                    id="title"
                    class="flex-auto"
                    autocomplete="off"
                    [(ngModel)]="selectedCourse.title"
                  />
                </div>
                <div class="flex align-items-center gap-3 mb-5">
                  <label for="description" class="font-semibold w-6rem"
                    >Description</label
                  >
                  <input
                    pInputText
                    id="description"
                    class="flex-auto"
                    autocomplete="off"
                    [(ngModel)]="selectedCourse.description"
                  />
                </div>
                <div class="flex justify-content-end gap-2">
                  <p-button
                    label="Cancel"
                    severity="secondary"
                    (click)="visible = false"
                  />
                  <p-button label="Save" (click)="saveAndCloseDialog()" />
                </div>
              </p-dialog>
              <p-button
                label="Delete"
                severity="secondary"
                class="w-full"
                styleClass="w-full"
                (click)="
                  course.id !== undefined ? deleteCourse(course.id) : null
                "
              />
            </div>
          </ng-template>
        </p-card>
      </div>

      <div *ngIf="!isAdmin">
        <p-card header="{{ course.title }}" [style]="{ width: '360px' }">
          <p>{{ course.description }}</p>
          <ng-template pTemplate="footer">
            <div class="flex gap-3 mt-1">
              <p-button
                label="Enroll"
                severity="primary"
                class="w-full"
                styleClass="w-full"
                (click)="course.id !== undefined ? enroll(course.id) : null"
              />
            </div>
          </ng-template>
        </p-card>
      </div>
    </div>
  </div>
</div> -->

<div class="course-container">
  <h1>Course List</h1>

  <div *ngIf="isAdmin" class="add-course">
    <input
      type="text"
      pInputText
      [(ngModel)]="newCourse.title"
      placeholder="Course Title"
    />
    <input
      type="text"
      pInputText
      [(ngModel)]="newCourse.description"
      placeholder="Course Description"
    />
    <p-button label="Add Course" (click)="addCourse()" />
  </div>

  <!-- Loader -->
  <div *ngIf="isLoading" class="loader">
    <p-progressSpinner ariaLabel="loading" />
  </div>

  <!-- Courses List -->
  <div *ngIf="!isLoading" class="course-list">
    <div *ngFor="let course of courses">
      <div *ngIf="isAdmin">
        <p-card header="{{ course.title }}" [style]="{ width: '360px' }">
          <p>{{ course.description }}</p>
          <ng-template pTemplate="footer">
            <div class="flex gap-3 mt-1">
              <p-button
                label="Update"
                severity="primary"
                class="w-full"
                styleClass="w-full"
                (click)="openUpdateDialog(course)"
              />
              <p-dialog
                header="Update Course"
                [modal]="true"
                [(visible)]="visible"
                [style]="{ width: '25rem' }"
                [draggable]="false"
              >
                <div class="flex align-items-center gap-3 mb-3">
                  <label for="title" class="font-semibold w-6rem">Title</label>
                  <input
                    pInputText
                    id="title"
                    class="flex-auto"
                    autocomplete="off"
                    [(ngModel)]="selectedCourse.title"
                  />
                </div>
                <div class="flex align-items-center gap-3 mb-5">
                  <label for="description" class="font-semibold w-6rem"
                    >Description</label
                  >
                  <input
                    pInputText
                    id="description"
                    class="flex-auto"
                    autocomplete="off"
                    [(ngModel)]="selectedCourse.description"
                  />
                </div>
                <div class="flex justify-content-end gap-2">
                  <p-button
                    label="Cancel"
                    severity="secondary"
                    (click)="visible = false"
                  />
                  <p-button label="Save" (click)="saveAndCloseDialog()" />
                </div>
              </p-dialog>
              <p-button
                label="Delete"
                severity="secondary"
                class="w-full"
                styleClass="w-full"
                (click)="
                  course.id !== undefined ? deleteCourse(course.id) : null
                "
              />
            </div>
          </ng-template>
        </p-card>
      </div>

      <div *ngIf="!isAdmin">
        <p-card header="{{ course.title }}" [style]="{ width: '360px' }">
          <p>{{ course.description }}</p>
          <ng-template pTemplate="footer">
            <div class="flex gap-3 mt-1">
              <p-button
                label="Enroll"
                severity="primary"
                class="w-full"
                styleClass="w-full"
                (click)="course.id !== undefined ? enroll(course.id) : null"
              />
            </div>
          </ng-template>
        </p-card>
      </div>
    </div>
  </div>
</div>
